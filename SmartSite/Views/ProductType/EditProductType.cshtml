@model SmartSite.Models.ProductType
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{ ViewBag.Title = "EditProductType"; }

@using (Html.BeginForm("EditProductType", "ProductType", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
@Html.AntiForgeryToken()
                <div class="contact-form-area m-top-30 d-flex justify-content-center" style="width:50%;margin-left:25%">
                    <div class="row d-flex justify-content-center">

                        @Html.HiddenFor(m => m.ID)

                        <div class="col-lg-12 col-md-12 ">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Type)
                                @Html.TextBoxFor(m => m.Type, new { @class = "form-control", placeholder = "Type Name" })
                                @Html.ValidationMessageFor(m => m.Type, "Must Upload Type Image", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12 ">
                            <div class="form-group">
                                @Html.LabelFor(m => m.CategoryID)
                                @Html.DropDownListFor(s => s.CategoryID, ViewData["Category"] as IEnumerable<SelectListItem>, new { @class = "browser-default custom-select" })
                                @Html.ValidationMessageFor(m => m.CategoryID, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-12 ">
                            <div class="form-group">
                                @Html.LabelFor(t => t.Image)
                                <input class="form-control" type="file" name="file" value="@HttpContextAccessor.HttpContext.Session.GetString("oldImagePath").ToString()" accept="image/*">
                                <span class="text-danger">
                                    @ViewBag.Message
                                </span>
                            </div>
                        </div>

                        <input value="@HttpContextAccessor.HttpContext.Session.GetString("oldImagePath").ToString()" name="deletingImgPath" hidden />

                        <div class="col-lg-12 col-md-12 ">
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary" id="edit">Edit</button>
                            </div>
                        </div>

                    </div>
                </div>}

@*<script src="~/Scripts/jquery-3.4.1.js"></script>
    <script>
        $(function () {
            $("edit").click(function () {
                if ($("#typeImg").val == "") {
                    $("#errorDiv").fadeIn();
                    $("#viewError").append("Upload image for that type");
                    return false;
                }
            })
        })
    </script>*@