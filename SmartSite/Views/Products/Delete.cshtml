@model SmartSite.Models.Product
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{ ViewBag.Title = "Delete"; }

<div class="deletePage">
    <div class="page-part">
        <div class="row d-flex justify-content-center">
            <div class="icon-delete col-12 d-flex justify-content-center">
                <i class="far fa-times-circle"></i>
            </div>
            <div>
                <h2>Are You Sure Delete product <a>@Model.Name</a> ?</h2>
                <p>This will cause deleting all data of this product .</p>
            </div>
        </div>
        <div class="row d-flex justify-content-center">
            <div class="cbp-item business animation">
                <!-- Single Portfolio -->
                <div class="single-portfolio">
                    <div class="portfolio-head overlay">
                        <img src="~/imageUploads/ProductImg/@Model.Image" style="width:350px;height:300px" />
                        <a class="more" href="@Url.Action("Details","Products",new { id=Model.ID})"><i class="fas fa-long-arrow-alt-right"></i></a>
                    </div>
                    <div class="portfolio-content">
                        <h4><a href="@Url.Action("Details","Products",new { id=Model.ID})">@Html.DisplayFor(model => model.Name)</a></h4>
                        <br />
                        <p>
                            @Html.DisplayFor(model => model.ProductType.Type)
                        </p>
                    </div>
                </div>

                @using (Html.BeginForm())
                {
    @Html.AntiForgeryToken()

                    <div class="row d-flex justify-content-center">
                        @* ----- hidden fields ----- *@
                        <input value="@HttpContextAccessor.HttpContext.Session.GetString("oldImagePath").ToString()" name="deletingImgPath" hidden />
                        <input value="@HttpContextAccessor.HttpContext.Session.GetString("oldPdfPath").ToString()" name="deletingPdfPath" hidden />

                        <div class="col-sm-4">
                            <button type="submit" class="btn btn-danger form-control">Delete</button>
                        </div>
                        <div class="col-sm-4">
                            @Html.ActionLink("Cancel", "Index", null, new { @class = "btn btn-info form-control" })
                        </div>
                    </div>}
            </div>
        </div>
    </div>
</div>
